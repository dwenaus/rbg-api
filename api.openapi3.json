{"components":{"parameters":{"id":{"description":"Get programs with a specific id or list of ids. To get multiple objects,\nprovide a comma separated list of values.\n","in":"query","name":"id","schema":{"items":{"type":"integer"},"type":"array"}},"lang":{"description":"Get the content for a particular language. The language values are\ntwo-letter identifiers from\n\n[ISO 639-1](https://www.loc.gov/standards/iso639-2/php/code_list.php).\n\nOnly the languages that are enabled for your install will work. The\ndefault language is `en` (English).\n","in":"query","name":"lang","schema":{"type":"string"}},"limit":{"description":"Limit number of return values. The default limit is 20. Pass `limit=0`\nTo get all the objects without\n\nlimits, but please use this with caution to not overload our servers.\n","in":"query","name":"limit","schema":{"type":"integer"}},"page":{"description":"Get further pages of results. By default the first `limit` results is\nreturned, to get further results\n\npass higher values to `page`. When a page is higher than available data\nthe request will return an empty JSON array.\n","in":"query","name":"page","schema":{"type":"integer"}},"token":{"description":"Security token","in":"query","name":"token","required":true,"schema":{"type":"string"}}},"schemas":{"Error":{"description":"An error returned in case of an incorrect request.","properties":{"message":{"description":"description of error and steps to correct it","type":"string"}},"type":"object"},"Item":{"description":"A single item or discount transaction. The object includes all fields in\nTransaction and additional\n\nfields that are only relevant for items purchased by the guest.\n","properties":{"discount_amount":{"description":"discount amount (either entered directly or calculated from\n`discount_percent`)","type":"string"},"discount_percent":{"description":"discount percentage","type":"string"},"grand_total":{"description":"total after applying discount and taxes","type":"string"},"is_addon":{"description":"is this item an addon (an optional item) selected by the guest","type":"boolean"},"subtotal":{"description":"total after applying discount, before applying taxes","type":"string"},"tax_1_amount":{"description":"first tax amount","type":"string"},"tax_1_info":{"description":"first tax description","type":"string"},"tax_2_amount":{"description":"second tax amount","type":"string"},"tax_2_info":{"description":"second tax description","type":"string"}},"type":"object"},"Lead":{"description":"A single lead, either an abandoned registration or a waiting list entry.\n","properties":{"email":{"description":"guest's email","format":"email","type":"string"},"first_name":{"description":"guest's first name","type":"string"},"full_name":{"description":"guest's full name","type":"string"},"language":{"description":"language code in which the registration was completed (i.e. en, fr,\netc.)","type":"string"},"last_name":{"description":"guest's last name","type":"string"},"lead_type":{"description":"type of lead","enum":["abandoned-reg","wait-list"],"type":"string"},"program":{"description":"name of program for which the guest attempted to register","type":"string"},"program_categories":{"description":"categories for the program","items":{},"type":"array"},"program_external_code":{"description":"external code for the program (can be set up in the admin under\nProgram / Advanced)","type":"string"},"program_id":{"description":"id for the program","type":"integer"},"program_link":{"description":"link to program description page","format":"url","type":"string"},"program_url":{"description":"API URL for the program","format":"url","type":"string"},"questions":{"description":"an array of answers to all custom questions","items":{},"type":"array"},"registration_link":{"description":"link to registration page","format":"url","type":"string"},"submitted":{"description":"exact time when lead was submitted","format":"date-time","type":"string"}},"type":"object"},"Payment":{"description":"A single payment or refund transaction. The object includes all fields\nin Transaction and additional\n\nfields that are only relevant for payments made by the guest.\n","properties":{"fund_method":{"description":"type of funding","type":"string"},"merchant_account":{"description":"name of account the transaction was made on","type":"string"},"merchant_cc_details":{"description":"credit card details as recorded by credit card processor","type":"string"},"merchant_name":{"description":"name of credit card processor (e.g. Paypal)","type":"string"},"merchant_profile":{"description":"profile id as recorded by credit card processor","type":"string"},"merchant_trans_id":{"description":"transaction id as recorded by credit card processor","type":"string"}},"type":"object"},"Program":{"description":"A single program","properties":{"categories":{"description":"categories the program belongs to","items":{"type":"string"},"type":"array"},"content":{"description":"program description","type":"string"},"end_date":{"description":"program end date","format":"date","type":"string"},"external_code":{"description":"custom program code for linking with other software (entered\nmanually in admin interface)","type":"string"},"id":{"description":"internal unique id","type":"integer"},"images":{"description":"info about program images including urls and sizes","items":{"items":{},"type":"array"},"type":"array"},"items_url":{"description":"API URL for program items","format":"url","type":"string"},"name":{"description":"program name","type":"string"},"payments_url":{"description":"API URL for program payments","format":"url","type":"string"},"program_link":{"description":"URL of public program info page","format":"url","type":"string"},"public":{"description":"is the programs listed publicly (controlled by the \"Remove from\npublic listings\" setting for a program)","type":"boolean"},"registrations_link":{"description":"URL of public registration page for program","format":"url","type":"string"},"registrations_url":{"description":"API URL for program registrations","format":"url","type":"string"},"self_url":{"description":"API URL pointing back to the object","format":"url","type":"string"},"start_date":{"description":"program start date","format":"date","type":"string"},"teachers":{"description":"teacher names for the program","items":{"type":"string"},"type":"array"},"transactions_url":{"description":"API URL for all program transactions (includs payments and items)","format":"url","type":"string"}},"type":"object"},"Registration":{"description":"A single registration by a guest to a program.","properties":{"balance_due":{"description":"current balance","type":"number"},"email":{"description":"guest's email address","format":"email","type":"string"},"end_date":{"description":"the day the guest's stay ends","format":"date","type":"string"},"first_name":{"description":"guest's first name","type":"string"},"full_name":{"description":"guest's full name","type":"string"},"grand_total":{"description":"total amount owed for the registration","type":"number"},"guest_edit_link":{"description":"link to guest edit page (where a guest can update their details)","format":"url","type":"string"},"guest_statement_link":{"description":"link to the (user-facing) guest statement","format":"url","type":"string"},"id":{"description":"internal unique id","type":"integer"},"items_url":{"description":"API URL for registration's payment transactions","format":"url","type":"string"},"last_name":{"description":"guest's last name","type":"string"},"lodging":{"description":"name of lodging type selected","type":"string"},"nights":{"description":"total nights of stay","type":"integer"},"optional_items":{"description":"optional items (add-ons) selected for the registration","items":{"type":"string"},"type":"array"},"payments_url":{"description":"API URL for registration's item transactions","format":"url","type":"string"},"program":{"description":"name of program the registration is for","type":"string"},"program_categories":{"description":"categories for the program","items":{"type":"string"},"type":"array"},"program_url":{"description":"URL for API representation of program","format":"url","type":"string"},"questions":{"description":"an array of all the custom fields that have been configured for the\nprogram for which this registration was entered","items":{},"type":"array"},"room":{"description":"name of room guest will be staying in","type":"string"},"self_url":{"description":"API URL pointing back to the object","format":"url","type":"string"},"start_date":{"description":"the day the guest's stay starts","format":"date","type":"string"},"status":{"description":"registration status","enum":["reserved","pending","need-approval","unconfirmed","cancelled","arrived","checked-out","duplicate"],"type":"string"},"submitted":{"description":"time the registration was submitted","format":"date-time","type":"string"},"transactions_url":{"description":"API URL for all registration's transactions","format":"url","type":"string"}},"type":"object"},"Teacher":{"description":"A single teacher","properties":{"content":{"description":"teacher description","type":"string"},"id":{"description":"internal unique id","type":"integer"},"images":{"description":"info about teacher images including urls and sizes","items":{"items":{},"type":"array"},"type":"array"},"name":{"description":"teacher name","type":"string"},"programs_url":{"description":"API URL for the teacher's programs","format":"url","type":"string"},"self_url":{"description":"API URL pointing back to the object","format":"url","type":"string"}},"type":"object"},"Transaction":{"description":"A single transaction","properties":{"category":{"description":"fine grained (and user defined) classification of transactions","type":"string"},"charge_amount":{"description":"amount that was charged (usually used for purchased items)","type":"number"},"class":{"description":"coarce grained classification of transactions","type":"string"},"credit_amount":{"description":"amount that was credited (usually used for payments made)","type":"number"},"description":{"description":"transaction description (auto-generated or user-entered in the admin\ninterface)","type":"string"},"details_url":{"description":"API URL of detailed payment or item object","format":"url","type":"string"},"id":{"description":"internal unique id","type":"integer"},"notes":{"description":"notes entered about the transaction by the admin","type":"string"},"person_name":{"description":"name of person on the registration","type":"string"},"program_name":{"description":"name of program for which this transaction was made","type":"string"},"program_url":{"description":"API URL of program for which this transaction was made","format":"url","type":"string"},"registration_url":{"description":"API URL of connected registration object","format":"url","type":"string"},"self_url":{"description":"API URL pointing back to the object","format":"url","type":"string"},"staff_name":{"description":"username of staff member who entered the transaction (if manually\nentered in the admin interface)","type":"string"},"status":{"description":"transaction status","enum":["complete","cancel"],"type":"string"},"submitted":{"description":"exact time when transaction was submitted","format":"date-time","type":"string"},"trans_date":{"description":"exact time of the transaction (can be modified manually, as opposed\nto `submitted`)","format":"date-time","type":"string"}},"type":"object"}}},"info":{"description":"Welcome to the Booking Guru API, we're glad you could make it. Let's poke\naround a bit.\n\nAnd just in case you have no idea where you are, [Booking\nGuru](http://bookingsoftware.guru)\n\nis a software package for spiritual retreat centers to manage programs,\nregistrations, finances and everything in between.\n\n**Security token**\n\nThe first thing you'll need is the security token for your installation. Go\nto the Reg. Settings\n\non your install, select the API tab and grab the token that appears there.\n\n\nIf there isn't a token there yet, hit *Generate Token*, then *Save changes*\nand then copy the token.\n\nSet a couple of environment variables so it's easier to run the samples:\n\n```\n$ export RGDOMAIN=\u003cdomain\u003e\n$ export RGTOKEN=\u003ctoken\u003e\n```\n\nThe `\u003cdomain\u003e` is your install's domain, and `\u003ctoken\u003e` is the token you just\ngot from the admin UI.\n\nLets take a look at some data.\n\n**Curl examples**\n\nGet programs:\n\n```\n$ curl \"https://$RGDOMAIN/api/v1/programs?token=$RGTOKEN\"\n```\n\nGet registations:\n\n```\n$ curl \"https://$RGDOMAIN/api/v1/registrations?token=$RGTOKEN\"\n```\n\n\nGet transactions:\n\n```\n$ curl \"https://$RGDOMAIN/api/v1/transactions?token=$RGTOKEN\"\n```\n\n**More examples**\n\nMore examples in different programming languages are available at\nhttps://github.com/retreatguru/rbg-api/tree/master/examples.\n\n*Notes*\n\n1. All values with the `date` type are in `YYYY-MM-DD` format, all values\nwith the `date-time` type are in the `YYYY-MM-DDTHH:MM:SS` format.\n   The special value `today` can also be used with any date argument.\n\n2. If a parameters can take multiple values (the `id` parameter usually\ndoes), provide multiple values separated by commas without spaces.\n","title":"Booking Guru API","version":"v1"},"openapi":"3.0.0","paths":{"/items":{"get":{"description":"Item transactions represent anything purchased by a guest and any\ndiscount they received. This\n\nincludes payment for programs, lodging, meals and any optional items\nthat were set up. Every item\n\ntransaction is also available through the `/transactions` endpoint, but\nobjects received here\n\nare filtered for easier use and contain more details that are only\nrelevant for items.\n\n\nThe `/items` endpoint accepts the same arguments as the `/transactions`\nendpoint.\n","parameters":[{"$ref":"#/components/parameters/token"}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Item"},"type":"array"}}},"description":"An array of items"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"An error"}},"summary":"Get item transaction info"}},"/leads":{"get":{"description":"Leads are created in two cases: (1) when a person enters a waiting list\non a program that's fully booked and,\n\n(2) when the Advanced Registration Form is enabled and the user only\nenters their name and email in the Welcome\n\nsection. In the former case the lead type is 'abandoned-reg', in the\nlatter it is 'wait-list'.\n","parameters":[{"$ref":"#/components/parameters/token"},{"$ref":"#/components/parameters/id"},{"$ref":"#/components/parameters/limit"},{"$ref":"#/components/parameters/page"},{"$ref":"#/components/parameters/lang"},{"description":"Filter leads for a specific program or programs (for multiple\nprograms supply a comma separated list of ids).\n","in":"query","name":"program_id","schema":{"type":"integer"}},{"description":"Filter transactions for a lead type.\n","in":"query","name":"lead_type","schema":{"enum":["abandoned-reg","wait-list"],"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Lead"},"type":"array"}}},"description":"An array of leads"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"An error"}},"summary":"Get leads info"}},"/payments":{"get":{"description":"Payment transactions can be credit card transactions entered\nautomatically through the Booking Guru\n\nregistration system and entires done manually through the admin\ninterface. Refunds are also represented\n\nhere Every payment is also available through the `/transactions`\nendpoint, but objects received through\n\nthis endpoint are filtered for easier use and contain more details that\nare only relevant for payments.\n\n\nThe `/payments` endpoint accepts the same arguments as the\n`/transactions` endpoint.\n","parameters":[{"$ref":"#/components/parameters/token"}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Payment"},"type":"array"}}},"description":"An array of payments"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"An error"}},"summary":"Get payment transaction info"}},"/programs":{"get":{"description":"Retrieves information about programs, their dates and and categories.\n","parameters":[{"$ref":"#/components/parameters/token"},{"$ref":"#/components/parameters/id"},{"$ref":"#/components/parameters/limit"},{"$ref":"#/components/parameters/page"},{"$ref":"#/components/parameters/lang"},{"description":"Get all the programs that belong to this category or categories.\n","in":"query","name":"category","schema":{"items":{"type":"string"},"type":"array"}},{"description":"Get all the programs that occur on this date (start on and before it\nand end on or after it).\n","in":"query","name":"on_date","schema":{"format":"date","type":"string"}},{"description":"Get all the programs that start on or after this date.\n","in":"query","name":"min_date","schema":{"format":"date","type":"string"}},{"description":"Get all the programs that end on or after this date.\n","in":"query","name":"max_date","schema":{"format":"date","type":"string"}},{"description":"Get all the programs for the teacher\n","in":"query","name":"teacher_id","schema":{"type":"integer"}},{"description":"Get all the programs that are listed publicly (controlled by the\n\"Remove from public listings\" setting for a program)\n","in":"query","name":"public","schema":{"type":"boolean"}},{"description":"Include additional data in the response. The valid values are:\n\n- `teachers` to include [Teacher](#teacher) objects\n","in":"query","name":"include","schema":{"items":{"type":"string"},"type":"array"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Program"},"type":"array"}}},"description":"An array of programs"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"An error"}},"summary":"Get program info"}},"/registrations":{"get":{"description":"Retrieves registration details including names, emails and programs\npeople have registered to. Registrations are always sorted\n\nin reverse chronological order with the newest registrations at the top\nor the result list.\n","parameters":[{"$ref":"#/components/parameters/token"},{"$ref":"#/components/parameters/id"},{"$ref":"#/components/parameters/limit"},{"$ref":"#/components/parameters/page"},{"$ref":"#/components/parameters/lang"},{"description":"Filter registrations for a specific program or programs (for\nmultiple programs supply a comma separated list of ids).\n","in":"query","name":"program_id","schema":{"items":{"type":"integer"},"type":"array"}},{"description":"Get registrations that were submitted on or after `min_date`. Can be\ncombined with `max_date` for a range of dates.\n","in":"query","name":"min_date","schema":{"format":"date","type":"string"}},{"description":"Get registrations that were submitted on or before `max_date`.\n","in":"query","name":"max_date","schema":{"format":"date","type":"string"}},{"description":"Get all registrations for which the registration stay dates are on\nor after `min_stay`. In particular\n\nthis includes registrations that start on `min_stay`, those that\nstart before `min_stay` and end on or after it,\n\nand those that start after `min_stay`. This will not include\nregistrations that end before `min_stay`.\n","in":"query","name":"min_stay","schema":{"format":"date","type":"string"}},{"description":"Get all registrations for which the registration stay dates are on\nor before `max_stay`. In particular\n\nthis includes registrations that those that start before `max_stay`\nand end on or after it,\n\nand those that start after `max_stay`. This will not include\nregistrations that start after `max_stay`.\n","in":"query","name":"max_stay","schema":{"format":"date","type":"string"}},{"description":"Include additional data in the response. The valid values are:\n\n\n- `payments` to include [Payment](#payment) objects\n\n- `items` to include [Item](#item) objects\n\n- `transactions` to include [Transaction](#transaction) objects\n(both items and payments)\n","in":"query","name":"include","schema":{"items":{"type":"string"},"type":"array"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Registration"},"type":"array"}}},"description":"An array of registrations"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"An error"}},"summary":"Get registration info"}},"/teachers":{"get":{"description":"Retrieves information about teachers and their descriptions.\n","parameters":[{"$ref":"#/components/parameters/token"},{"$ref":"#/components/parameters/id"},{"$ref":"#/components/parameters/limit"},{"$ref":"#/components/parameters/page"},{"$ref":"#/components/parameters/lang"},{"description":"Get teachers for a specific program or programs (for multiple\nprograms supply a comma separated list of ids).\n","in":"query","name":"program_id","schema":{"items":{"type":"integer"},"type":"array"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Teacher"},"type":"array"}}},"description":"An array of teachers"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"An error"}},"summary":"Get teacher info"}},"/transactions":{"get":{"description":"Transactions represent the financial details of the registration,\nincluding items the guest has purchased, discounts, taxes,\n\ncredit card payments, cash payments and any other custom transaction\ntype you may have defined on your install.\n\n\nTransactions are always sorted in reverse chronological order with the\nnewest transaction at the top or the result list.\n","parameters":[{"$ref":"#/components/parameters/token"},{"$ref":"#/components/parameters/id"},{"$ref":"#/components/parameters/limit"},{"$ref":"#/components/parameters/page"},{"$ref":"#/components/parameters/lang"},{"description":"Filter transactions by class. Classes are hard coded and segment\ntransaction into 8 broad categories:\n\n\n* `item` - an item the guest needs to pay for\n\n* `discount` - a discount the guest has received\n\n* `card-payment` - a credit card payment\n\n* `card-refund` - a credit card refund\n\n* `non-cc-payment` - a non credit card payment (cash, wire transfer,\netc)\n\n* `non-cc-refund` - a non credit card refund\n\n* `person-credit` - personal credit was added for the guest\n\n* `person-debit` - personal credit was used for payment\n","in":"query","name":"class","schema":{"items":{"type":"string"},"type":"array"}},{"description":"Filter transactions for a specific program or programs (for multiple\nprograms supply a comma separated list of ids).\n","in":"query","name":"program_id","schema":{"items":{"type":"integer"},"type":"array"}},{"description":"Filter transactions for a specific registration or registrations.\n","in":"query","name":"registration_id","schema":{"items":{"type":"integer"},"type":"array"}},{"description":"Filter transactions that were submitted on or after this date.\n","in":"query","name":"min_date","schema":{"format":"date","type":"string"}},{"description":"Filter transactions that were submitted on or before this date.\n","in":"query","name":"max_date","schema":{"format":"date","type":"string"}},{"description":"Filter transactions by category. Categories are user defined and can\nbe very specific.\n","in":"query","name":"category","schema":{"items":{"type":"string"},"type":"array"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Transaction"},"type":"array"}}},"description":"An array of transactions"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"An error"}},"summary":"Get transaction info"}}},"servers":[{"url":"/api/v1"}]}
